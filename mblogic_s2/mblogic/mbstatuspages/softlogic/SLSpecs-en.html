<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Help - Soft Logic Specs</title>

<link rel="icon" type="image/png" href="/systemicon.png">
<!-- General page layout style sheet. -->
<link rel="stylesheet" href="/helppagelayout.css" type="text/css">
</head>

<body>
<div id="filler">

	<div id="header">
		<p class="headlogo">
			<img src="/systemlogo.png" width="200" alt="MB Logic Logo"/>
			<span class="headtitle1">MBLogic </span>
			<span class="headtitle2"> for an open world in automation</span>
		</p>
	</div>



	<!-- This is the standard nav bar. -->
	<div id="nav">
		<ul>
			<li><a href="/statussystem.html">Home</a></li>
			<li><a href="/statuspages/statusconfigure.html">Configure</a></li>
			<li><a href="/statuspages/statuscontrol.html">Control</a></li>
			<li><a href="/statuspages/statusmonitor.html">Monitor Data</a></li>
			<li><a href="/statuspages/statussysmon.html">System</a></li>
			<li><a href="/statuspages/statusxref.html">XRef</a></li>
			<li><a href="/helpmain.html">Help</a></li>
		</ul>
	</div>


<hr>

	<!-- This is the help system nav bar. -->
	<div id="helpnav">
		<h2>Help Topics</h2>
		<ul>
			<li><a href="/helpmain.html">Help</a></li>
			<li><a href="/general/General-en.html">General</a></li>
			<li><a href="/statushelp/MBStatusHelp.html">System Status</a></li>
			<li><a href="/communications/ComsIntro-en.html">Communications</a></li>
			<li><a href="/softlogic/SLIntro-en.html">Soft Logic</a></li>
			<li><a href="/hmi/HMIIntro-en.html">HMI</a></li>
			<li><a href="/installation/InstallIntro-en.html">Installation</a></li>
			<li><a href="/general/About-en.html">About</a></li>
		</ul>

		<h3>Topic Details for Soft Logic</h3>
		<ul>
			<li><a href="SLSpecs-en.html">Specifications</a></li>
			<li><a href="SLAddressing-en.html">Addressing</a></li>
			<li><a href="SLInstructions-en.html">Instructions</a></li>
			<li><a href="SLPrograms-en.html">Programming</a></li>
			<li><a href="SLConfig-en.html">Configuration</a></li>
			<li><a href="SLStatus-en.html">Program Monitoring and Reloading</a></li>
			<li><a href="SLMemSave-en.html">Data Table Save/Restore</a></li>
		</ul>

	</div>



<div id="datadisplay">

<h1>Help - Soft Logic Specs</h1>

<hr>

<h2>Overview:</h2> 

<p>The following are the specifications for the "Ck" soft
logic library.
</p>

<hr>

<h2>General Specifications:<a name="General Specifications"></a></h2>

<table class="helptable"  border="1">
<tr>
	<th>Characteristic</th>
	<th>Limits</th>
</tr>
<tr>
	<td>Data table size</td>
	<td>50 kbytes</td>
</tr>
<tr>
	<td>Digital inputs</td>
	<td>2000</td>
</tr>
<tr>
	<td>Digital outputs</td>
	<td>2000</td>
</tr>
<tr>
	<td>Analogue inputs</td>
	<td>125<sup>1, 2</sup></td>
</tr>
<tr>
	<td>Analogue outputs</td>
	<td>125<sup>1, 2</sup></td>
</tr>
<tr>
	<td>Timers</td>
	<td>500</td>
</tr>
<tr>
	<td>Counters</td>
	<td>250</td>
</tr>
<tr>
	<td>Maximum number of instructions</td>
	<td>No limit<sup>3</sup></td>
</tr>
<tr>
	<td>Maximum number of subroutines</td>
	<td>No limit<sup>3</sup></td>
</tr>
</table>

<p><sup>1</sup>Plus an equal number of signed addresses.
</p>

<p><sup>2</sup>In addition to these addresses, any register type can be used 
for I/O, not just the "analogue" addresses. 
</p>

<p><sup>3</sup>There is no enforced limit to the size of program that can be 
run. The practical limitations are related to the resulting scan rate and the 
time to load the program on start up.  
</p>

<hr>

<h2>Instruction Speed:<a name="Instruction Speed"></a></h2>

<p>The actual instruction speed achieved in any application will depend on the 
speed of the computer used. The following are some representative times from a
relativesly slow (1.8GHz Sempron) PC. 
</p>

<p><strong><em>All times are in micro-seconds per instruction.</em></strong>
</p>

<h3>Boolean Inputs / Edge Contacts / Compare</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>Speed</th>
</tr>

<tr>
	<td>STR / STRN</td>
	<td>0.63</td>
</tr>
<tr>
	<td>AND / ANDN</td>
	<td>0.13</td>
</tr>
<tr>
	<td>OR / ORN</td>
	<td>0.13</td>
</tr>
<tr>
	<td>ANDSTR / ORSTR</td>
	<td>0.68</td>
</tr>

<tr>
	<td>ANDND / ORND</td>
	<td>0.86</td>
</tr>
<tr>
	<td>ANDPD / ORPD</td>
	<td>0.75</td>
</tr>
<tr>
	<td>STRND / STRPD</td>
	<td>1.33</td>
</tr>

<tr>
	<td>ANDE / ANDNE (reg / reg)</td>
	<td>0.13</td>
</tr>
<tr>
	<td>ANDE / ANDNE (3 char string / reg)</td>
	<td>0.21</td>
</tr>
</table>

<h3>Boolean Outputs</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>Single bit</th> 
	<th>2 bits</th>
	<th>16 bits</th>
	<th>128 bits</th> </tr>

<tr>
	<td>OUT</td>
	<td>0.20</td>
	<td>3.57</td>
	<td>7.04</td>
	<td>34.22</td>
</tr>
<tr>
	<td>PD</td>
	<td>0.88</td>
	<td>4.38</td>
	<td>7.95</td>
	<td>35.55</td>
</tr>
<tr>
	<td>RST / SET (rung true)</td>
	<td>0.33</td>
	<td>3.31</td>
	<td>6.78</td>
	<td>34.05</td>
</tr>
<tr>
	<td>RST / SET (rung false)</td>
	<td>0.11</td>
	<td>0.11</td>
	<td>0.11</td>
	<td>0.11</td>
</tr>
</table>


<h3>Counter / Timer / Math</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>Speed</th>
</tr>
<tr>
	<td>CNTU</td>
	<td>2.53</td>
</tr>
<tr>
	<td>TMR</td>
	<td>10.32</td>
</tr>
<tr>
	<td>TMRA</td>
	<td>9.38</td>
</tr>
<tr>
	<td>MATHDEC (x + y * z / a MOD b)</td>
	<td>5.45</td>
</tr>
<tr>
	<td>MATHDEC (SIN 0.5)</td>
	<td>5.01</td>
</tr>
<tr>
	<td>MATHHEX (LSH(reg, h2))</td>
	<td>5.16</td>
</tr>
</table>



<h3>Shift Register</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>16 bits</th>
	<th>128 bits</th>
</tr>
<tr>
	<td>SHFRG</td>
	<td>9.13</td>
	<td>40.94</td>
</tr>
</table>


<h3>Pack / Unpack</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>1 bit</th>
	<th>16 bits</th>
</tr>
<tr>
	<td>PACK</td>
	<td>5.54</td>
	<td>11.82</td>
</tr>
<tr>
	<td>UNPACK</td>
	<td>10.21</td>
	<td>15.58</td>
</tr>
</table>


<h3>Single Register Copy</h3>
<p>The single register copy operation is a multi-purpose instruction that
also performs pointer (indirect addressing) and type conversion (e.g. integer
to string) operations.
</p>


<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>Speed</th>
</tr>
<tr>
	<td>COPY (constant to register without one shot) <sup>1</sup></td>
	<td>0.75</td>
</tr>
<tr>
	<td>COPY (constant to register with one shot) <sup>1</sup></td>
	<td>1.5</td>
</tr>
<tr>
	<td>COPY (register to register of the same type without one shot) 
	<sup>2</sup></td>
	<td>0.94</td>
</tr>
<tr>
	<td>COPY (register to register of the same type with one shot) 
	<sup>2</sup></td>
	<td>1.7</td>
</tr>
<tr>
	<td>COPY (register to register of different type)<sup>3</sup></td>
	<td>9.9</td>
</tr>
<tr>
	<td>COPY (integer to TXT conversion, 4 digits) 
	<sup>4</sup></td>
	<td>25</td>
</tr>
<tr>
	<td>COPY (string constant to TXT registers)<sup>5</sup></td>
	<td>24 (+ 0.4 per char)</td>
</tr>
<tr>
	<td>COPY (constant to pointer)</td>
	<td>16</td>
</tr>
<tr>
	<td>COPY (register to pointer)</td>
	<td>8.6</td>
</tr>
<tr>
	<td>COPY (pointer to register)</td>
	<td>17</td>
</tr>
<tr>
	<td>COPY (pointer to pointer)</td>
	<td>21</td>
</tr>
<tr>
	<td>COPY (rung false - no operation)</td>
	<td>0.11</td>
</tr>
</table>

<p><sup>1</sup>Copying a single character constant (e.g. "A") is also a constant
to register copy operation.</p>

<p><sup>2</sup>Registers are considered to be of the "same" type for copy
operations when a value in the source register can always be guaranteed 
to fit within the destination register and are of the same basic type. For 
example, "DS" to "DD" will always fit, but "DD" to "DS" may not fit. "DD" and 
"DF" are of different basic types (integer versus floating point) and so
are different for copy purposes. </p>

<p><sup>3</sup>The source type must be capable of being converted to the 
destination type.</p>

<p><sup>4</sup>This involves an integer to string conversion plus a
string copy.</p>

<p><sup>5</sup>E.g. copying "ABCDE" to TXT10 - TXT14 will take 
24 + (0.4 * 5) = 26.</p>


<h3>Multi-Register Operations</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>2 regs</th> 
	<th>100 regs</th>
	<th>1000 regs</th> </tr>

<tr>
	<td>CPYBLK</td>
	<td>14.2</td>
	<td>360.32</td>
	<td>3669.33</td>
</tr>
<tr>
	<td>FILL</td>
	<td>7.97</td>
	<td>31.74</td>
	<td>246.88</td>
</tr>
<tr>
	<td>FINDEQ</td>
	<td>8.23</td>
	<td>167.66</td>
	<td>1821.93</td>
</tr>
<tr>
	<td>SUM</td>
	<td>7.88</td>
	<td>36.05</td>
	<td>331.68</td>
</tr>
</table>

<h3>Miscellaneous</h3>
<table class="helptable"  border="1">
<tr>
	<th>Instruction</th>
	<th>Speed</th>
</tr>

<tr>
	<td>NETWORK (start new rung)</td>
	<td>0.51</td>
</tr>
<tr>
	<td>FOR / NEXT (per empty loop iteration)</td>
	<td>0.08</td>
</tr>
<tr>
	<td>CALL / RT (call plus return from empty subr)</td>
	<td>3.93</td>
</tr>
</table>

<hr>

<h2>Instruction Set:<a name="Instruction Set"></a></h2>

<p>The instruction set implemented in the "Ck" logic engine is very similar 
to that of the Koyo "Click". The "Ck" logic engine is not however intended 
to be an emulator or direct replacement for the "Click". It is intended to 
be a useful soft logic library that is similar enough to the "Click" that 
someone already familiar with one will find the other easy to learn and 
understand.  
</p>

<h3>Instructions</h3>
<p>The instructions are documented in detail elsewhere. The following
is just a brief summary.
</p>
<table class="helptable"  border="1">
<tr>
	<th>Instruction type</th>
	<th># of<br> Instructions</th>
</tr>
<tr>
	<td>Boolean input</td>
	<td>8</td>
</tr>
<tr>
	<td>Edge contact</td>
	<td>6</td>
</tr>
<tr>
	<td>Boolean output</td>
	<td>8</td>
</tr>
<tr>
	<td>Comparison</td>
	<td>18</td>
</tr>
<tr>
	<td>Program control</td>
	<td>8</td>
</tr>
<tr>
	<td>Counter and timer</td>
	<td>6</td>
</tr>
<tr>
	<td>Copy</td>
	<td>5</td>
</tr>
<tr>
	<td>Search</td>
	<td>12</td>
</tr>
<tr>
	<td>Shift register</td>
	<td>1</td>
</tr>
<tr>
	<td>Math operators and functions</td>
	<td>26</td>
</tr>
</table>

<h3>Instructions Not Implemented, or Implemented Differently</h3>
<p>Certain instructions present in the Koyo "Click" were either not implemented
in the "Ck" logic engine, or were implemented differently.
</p>

<ul>
	<li>The communications functions were not implemented. The "Ck" logic engine 
	is part of a complete stand alone soft logic system. Communications features 
	are provided by the rest of the supporting software. </li>
	<li>The SUM math function was implemented as a separate stand alone 
	instruction rather than being integrated into the MATHDEC and MATHHEX 
	instructions. </li>
	<li>Floating point math calculations are performed as double precision 
	rather than single precision operations. This may result in more accurate,
	but slightly different results.</li>
	<li>The DRUM instructions are not implemented at this time. (They may be added
	in a future version). </li>
	<li>The watch dog timer is not implemented at this time. (This is intended to
	be in a future revision).</li>
	<li>The digital I/O system is addressed differently. The digital I/O (X, Y) is 
	arranged as a continuous address space. The I/O registers (XD, YD) are separate 
	address spaces from the digital I/O, and may be used for analogue and other word 
	I/O. To address digital I/O as words, use the PACK and UNPACK instructions. </li>
	<li>Signed analogue I/O addresses (XS and YS) have been added. These are more
	generally useful than the unsigned (XD, YD) equivalents.</li>
	<li>There are no immediate I/O or interrupts, as these are PLC CPU on board I/O 
	hardware features which are not present in a soft logic system.</li>
	<li>There is no fixed scan mode.</li>
	<li>Hardware related system control relay (SC) and system register (SD) addresses
	which relate only to "Click" hardware features are not implemented.</li>
</ul>


<hr>

</div>


<!-- Standard footer -->
<div id="footer">
	<p>Help - Soft Logic Specs</p>
</div>

</div>

</body>
</html>

<!-- Copyright 2009. Michael Griffin
This file is part of MBLogic.
MBLogic is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
MBLogic is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with MBLogic. If not, see <http://www.gnu.org/licenses/>.
 -->

