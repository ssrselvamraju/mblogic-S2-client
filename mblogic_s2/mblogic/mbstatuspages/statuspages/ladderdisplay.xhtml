<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
      PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
		xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">

<head>
<link rel="icon" type="image/png" href="/systemicon.png" />
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<!-- Version 08-Jan-2009 -->

<!-- General page layout style sheet. -->
<link rel="stylesheet" href="/editpagelayout.css" type="text/css"></link>
<!-- Ladder style sheet. -->
<link rel="stylesheet" href="/ladderdisplay.css" type="text/css"></link>



<title>Ladder Display</title>

<!-- Displaying the entire subroutine. -->
<script type="text/javascript" src="ladsubrdisplib.js"></script>
<!-- Ladder symbols. -->
<script type="text/javascript" src="ladsymbols.js"></script>
<!-- Subroutine data control. -->
<script type="text/javascript" src="ladsubrdata.js"></script>

<!-- Server communications. -->
<script type="text/javascript" src="/statuspages/libdata.js"></script>
<script type="text/javascript" src="/statuspages/libstatutils.js"></script>
<script type="text/javascript" src="/statuspages/libdatapost.js"></script>
<script type="text/javascript" src="/statuspages/ladmonitor.js"></script>


</head>

<body onload="MBEdit_pageinit();">


<div id="filler">


	<!-- ################################################################## -->

	<div id="datadisplay">
	<h1>Ladder Display</h1>
	
	<hr></hr>
	<div style="position:fixed;width:970px;height:50px;left:500px;top:1px;">
		<p>
			<button id="monitorbutton" class="laddermonitorbuttons" 
								onclick="EnableUpdate();">Monitor</button>
			<button id="stopbutton"  class="laddermonitorbuttons" 
								onclick="DisableUpdate();">Stop</button>
			<button id="singlebutton"  class="laddermonitorbuttons" 
								onclick="SingleScan();">Single Scan</button>
		</p>

	</div>
	
		<!-- ################################################################ -->

		<div >
			<!-- Subroutine name. -->
			<p id="subroutinename" class="subheaderarea"></p>
			<!-- Subroutine comments. -->
			<p id="subrcomments" class="commentarea"></p>
		</div>



		<!-- The list of rungs which get added automatically. -->
		<div id="staticrunglist" class="rungshow">
		</div>

		<!-- Command button to append a rung. -->
		<div class="subrcommandarea">
			<p>.
			</p>
		</div>


		<!-- ################################################################ -->
		
	</div>

</div>



<!-- ###################################################################### -->

<!-- This div holds all the ladder prototypes so we can control the visibility
	of them. -->
<div id="ladderprototypes">


<div id="editprototype">

<!-- This is a container for holding SVG prototypes. -->
<svg xmlns="http://www.w3.org/2000/svg" 
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	version="1.1" baseProfile="full" width="1000px" height="650px">



 	<!-- Ladder symbol definitions. -->
		<!-- This is an empty matrix location. -->
		<g id="none">
		 	<rect x="2px" y="-35px" width="75px" height="75px" class="emptyeditcell"/> 
		</g>

 		<g id="inputno">
		 	<!-- This is a normally open contact. 1 unit wide. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="30px" y2="0px" /> 
			<line x1="45px" y1="0px" x2="75px" y2="0px" /> 
			<line x1="30px" y1="-15px" x2="30px" y2="15px" /> 
			<line x1="45px" y1="-15px" x2="45px" y2="15px" /> 
		</g>
		<g id="inputnc">
			<!-- This is a normally closed contact. 1 unit. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="30px" y2="0px" />
			<line x1="45px" y1="0px" x2="75px" y2="0px" />
			<line x1="30px" y1="-15px" x2="30px" y2="15px" />
			<line x1="45px" y1="-15px" x2="45px" y2="15px" />
			<line x1="20px" y1="12px" x2="55px" y2="-12px" />
		</g>

 		<g id="inputnopd">
		 	<!-- This is a rising edge contact (one shot). 1 unit wide. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="30px" y2="0px" /> 
			<line x1="45px" y1="0px" x2="75px" y2="0px" /> 
			<line x1="30px" y1="-15px" x2="30px" y2="15px" /> 
			<line x1="45px" y1="-15px" x2="45px" y2="15px" /> 
			<line x1="37" y1="-10" x2="37" y2="10" />
			<line x1="37" y1="-10" x2="32" y2="-5" />
			<line x1="37" y1="-10" x2="41" y2="-5" />
		</g>
 		<g id="inputnond">
		 	<!-- This is a falling edge contact (one shot). 1 unit wide. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="30px" y2="0px" /> 
			<line x1="45px" y1="0px" x2="75px" y2="0px" /> 
			<line x1="30px" y1="-15px" x2="30px" y2="15px" /> 
			<line x1="45px" y1="-15px" x2="45px" y2="15px" /> 
			<line x1="37" y1="-10" x2="37" y2="10" />
			<line x1="37" y1="10" x2="32" y2="5" />
			<line x1="37" y1="10" x2="41" y2="5" />
		</g>

		<!--  Compare equal. -->
 		<g id="inputcompeq">
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="25" y2="0" />
			<line x1="50" y1="0" x2="75" y2="0" />
		
			<!-- Contacts. -->		
			<line x1="25" y1="-15" x2="25" y2="15" />
			<line x1="50" y1="-15" x2="50" y2="15" />

			<!-- Symbol for Equals. -->		
			<line x1="30" y1="-4" x2="44" y2="-4" />
			<line x1="30" y1="4" x2="44" y2="4" />

		</g>


		<!--  Compare not equal. -->
 		<g id="inputcompneq">
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="25" y2="0" />
			<line x1="50" y1="0" x2="75" y2="0" />
		
			<!-- Contacts. -->		
			<line x1="25" y1="-15" x2="25" y2="15" />
			<line x1="50" y1="-15" x2="50" y2="15" />

			<!-- Symbol for not equal. -->		
			<line x1="30" y1="-4" x2="44" y2="-4" />
			<line x1="30" y1="4" x2="44" y2="4" />
			<line x1="33" y1="10" x2="42" y2="-10" />
		</g>


		<!--  Compare greater than. -->
 		<g id="inputcompgt">
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="25" y2="0" />
			<line x1="50" y1="0" x2="75" y2="0" />
		
			<!-- Contacts. -->		
			<line x1="25" y1="-15" x2="25" y2="15" />
			<line x1="50" y1="-15" x2="50" y2="15" />

			<!-- Symbol for greater than. -->		
			<line x1="30" y1="-5" x2="44" y2="0" />
			<line x1="30" y1="5" x2="44" y2="0" />
		</g>


		<!--  Compare less than. -->
 		<g id="inputcomplt">
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="25" y2="0" />
			<line x1="50" y1="0" x2="75" y2="0" />
		
			<!-- Contacts. -->		
			<line x1="25" y1="-15" x2="25" y2="15" />
			<line x1="50" y1="-15" x2="50" y2="15" />

			<!-- Symbol for less than. -->		
			<line x1="30" y1="0" x2="44" y2="-5" />
			<line x1="30" y1="0" x2="44" y2="5" />
		</g>


		<!--  Compare greater than or equal to. -->
 		<g id="inputcompge">
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="25" y2="0" />
			<line x1="50" y1="0" x2="75" y2="0" />
		
			<!-- Contacts. -->		
			<line x1="25" y1="-15" x2="25" y2="15" />
			<line x1="50" y1="-15" x2="50" y2="15" />

			<!-- Symbol for greater than or equal to. -->		
			<line x1="30" y1="-10" x2="44" y2="-5" />
			<line x1="30" y1="0" x2="44" y2="-5" />
			<line x1="30" y1="5" x2="44" y2="5" />
			<line x1="30" y1="10" x2="44" y2="10" />
		</g>


		<!--  Compare less than or equal to. -->
 		<g id="inputcomple">
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="25" y2="0" />
			<line x1="50" y1="0" x2="75" y2="0" />
		
			<!-- Contacts. -->		
			<line x1="25" y1="-15" x2="25" y2="15" />
			<line x1="50" y1="-15" x2="50" y2="15" />

			<!-- Symbol for less than or equal to. -->		
			<line x1="30" y1="-5" x2="44" y2="-10" />
			<line x1="30" y1="-5" x2="44" y2="0" />
			<line x1="30" y1="5" x2="44" y2="5" />
			<line x1="30" y1="10" x2="44" y2="10" />
		</g>



		<!-- Branch instructions. -->
		<g id="branchttr">
			<!-- This is a T branch pointing down. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
		 	<line x1="0px" y1="0px" x2="75px" y2="0px" />
			<line x1="25px" y1="0px" x2="25px" y2="37px" />
			<circle cx="25px" cy="0px" r="3px" stroke-width="5px" />
		</g>

		<g id="branchttl">
			<!-- This is a T branch pointing down. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
		 	<line x1="0px" y1="0px" x2="75px" y2="0px" />
			<line x1="50px" y1="0px" x2="50px" y2="37px" />
			<circle cx="50px" cy="0px" r="3px" stroke-width="5px" />
		</g>


		<g id="branchr">
			<!-- This is a corner branch to the right. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="25px" y1="-37px" x2="25px" y2="0px" />
			<line x1="25px" y1="0px" x2="75px" y2="0px" />
		</g>

		<g id="branchl">
			<!-- This is a corner branch to the left. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="50px" y1="-37px" x2="50px" y2="0px" />
			<line x1="0px" y1="0px" x2="50px" y2="0px" />
		</g>

		<g id="branchtr">
			<!-- This is a branch T to the right. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="25px" y1="-37px" x2="25px" y2="37px" />
			<line x1="25px" y1="0px" x2="75px" y2="0px" />
			<circle cx="25px" cy="0px" r="3px" stroke-width="5px" />
		</g>

		<g id="branchtl">
			<!-- This is a branch T to the left. -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="50px" y1="-37px" x2="50px" y2="37px" />
			<line x1="0px" y1="0px" x2="50px" y2="0px" />
			<circle cx="50px" cy="0px" r="3px" stroke-width="5px" />
		</g>


		<g id="vbarr">
			<!-- This is vertical bar (wire). -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="25px" y1="-37px" x2="25px" y2="37px" />
		</g>

		<g id="vbarl">
			<!-- This is vertical bar (wire). -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="50px" y1="-37px" x2="50px" y2="37px" />
		</g>


		<g id="hbar">
			<!-- This is horizontal bar (wire). -->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="75px" y2="0px" />
		</g>



		<!-- Coil instructions. -->
		<g id="outputout">
			<!-- This is a coil output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">OUT</text> 
		</g>
		<g id="outputset">
			<!-- This is a set output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">SET</text> 
		</g>
		<g id="outputreset">
			<!-- This is a reset output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">RST</text> 
		</g>
		<g id="outputpd">
			<!-- This is a PD (one shot) output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">PD</text> 
		</g>

		<!-- Coil instructions for a range of addresses. This adds in the
				text indicator elipses (...). -->
		<g id="outputout2">
			<!-- This is a coil output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">OUT</text>
			<text x="65px" y="-20px" font-size="12">...</text>
		</g>
		<g id="outputset2">
			<!-- This is a set output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">SET</text> 
			<text x="65px" y="-20px" font-size="12">...</text>
		</g>
		<g id="outputreset2">
			<!-- This is a reset output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">RST</text> 
			<text x="65px" y="-20px" font-size="12">...</text>
		</g>
		<g id="outputpd2">
			<!-- This is a PD (one shot) output. 1 unit.-->
		 	<rect x="2px" y="-35px" width="70px" height="70px" stroke="none"/> 
			<line x1="0px" y1="0px" x2="17px" y2="0px" />
			<line x1="57px" y1="0px" x2="225px" y2="0px" />
			<ellipse cx="37px" cy="0px" rx="20px" ry="12px" fill="none" />
			<text x="37px" y="5px" font-size="12" text-anchor="middle">PD</text> 
			<text x="65px" y="-20px" font-size="12">...</text>
		</g>



		<!-- Program control instructions. -->

		<!-- Program end - END.-->
		<g id="progcontrolend">
		 	<rect x="2px" y="-35px" width="150px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="145" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="140" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">END</text> 
		</g>

		<!-- Program end conditional - ENDC.-->
		<g id="progcontrolendc">
		 	<rect x="2px" y="-35px" width="150px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="145" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="140" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">ENDC</text> 
		</g>

		<!-- Subroutine return - RT.-->
		<g id="progcontrolrt">
		 	<rect x="2px" y="-35px" width="150px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="145" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="140" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">RT</text> 
		</g>

		<!-- Subroutine return conditional - RTC.-->
		<g id="progcontrolrtc">
		 	<rect x="2px" y="-35px" width="150px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="145" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="140" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">RTC</text> 
		</g>

		<!-- Subroutine call - CALL.-->
		<g id="progcontrolcall">
		 	<rect x="2px" y="-35px" width="225px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">CALL</text> 
		</g>

		<!-- Subroutine call subroutina name. -->		
		<text id="calltext" x="15" y="10" font-size="12"> </text> 

		<!-- FOR loop - FOR.-->
		<g id="progcontrolfor">
		 	<rect x="2px" y="-35px" width="150px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="145" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="140" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FOR</text> 
			<text x="125" y="-10" font-size="12">:</text> 
		</g>

		<!-- For loop interation count. -->		
		<text id="fortext1a" x="15" y="10" font-size="12"> </text> 
		<!-- For loop one shot option. -->
		<text id="fortext1b" x="130" y="-10" font-size="12"> </text> 


		<!-- Next in For/Next loop - NEXT.-->
		<g id="progcontrolnext">
		 	<rect x="2px" y="-35px" width="150px" height="70px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="145" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="140" height="45" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">NEXT</text> 
		</g>

		<!-- Counter/Timers. -->

		<!-- Count up - CNTU.-->
		<g id="timercntu">
		 	<rect x="2px" y="-35px" width="225px" height="150px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<line x1="0" y1="75" x2="5" y2="75" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="140" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="50" y="-10" font-size="12">UP COUNTER</text> 
			<text x="10" y="0" font-size="12">Up</text> 
			<text x="10" y="75" font-size="12">Reset</text> 
			<!-- Addresses. -->
			<text x="50" y="30" font-size="12">Counter:</text> 
			<text x="50" y="50" font-size="12">Set-point:</text> 
		</g>

		<!-- For editing all coutners. - CNTU, CNTD, UDC. -->
		<text id="countertext1a" x="125" y="30" font-size="12"> </text> 
		<text id="countertext1b" x="125" y="50" font-size="12"> </text> 


		<!-- Count down - CNTD.-->
		<g id="timercntd">
		 	<rect x="2px" y="-35px" width="225px" height="150px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<line x1="0" y1="75" x2="5" y2="75" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="140" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="50" y="-10" font-size="12">DOWN COUNTER</text> 
			<text x="10" y="0" font-size="12">Down</text> 
			<text x="10" y="75" font-size="12">Reset</text> 
			<!-- Addresses. -->
			<text x="50" y="30" font-size="12">Counter:</text> 
			<text x="50" y="50" font-size="12">Set-point:</text> 
		</g>

		<!-- Count up and down - UDC.-->
		<g id="timerudc">
		 	<rect x="2px" y="-35px" width="225px" height="225px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<line x1="0" y1="75" x2="5" y2="75" />
			<line x1="0" y1="150" x2="5" y2="150" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="200" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="50" y="-10" font-size="12">UP-DOWN COUNTER </text> 
			<text x="10" y="0" font-size="12">Up</text> 
			<text x="10" y="75" font-size="12">Down</text> 
			<text x="10" y="150" font-size="12">Reset</text> 
			<!-- Addresses. -->
			<text x="50" y="30" font-size="12">Counter:</text> 
			<text x="50" y="50" font-size="12">Set-point:</text> 
		</g>


		<!-- On delay accumulating timer - TMRA.-->
		<g id="timertmra">
		 	<rect x="2px" y="-35px" width="225px" height="150px" stroke="none"/> 
			<!-- Joining lines. -->	
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<line x1="0" y1="75" x2="5" y2="75" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="140" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="50" y="-10" font-size="12">TIMER Retentive</text> 
			<text x="10" y="0" font-size="12">Enable</text> 
			<text x="10" y="75" font-size="12">Reset</text>
			<!-- Addresses. -->
			<text x="50" y="20" font-size="12">Timer:</text> 
			<text x="50" y="40" font-size="12">Set point:</text> 
			<text x="50" y="60" font-size="12">Time base:</text> 
		</g>

		<!-- Display parameters for an on delay accumulating timer - TMRA.-->
		<text id="tmratext1a" x="125" y="20" font-size="12"> </text> 
		<text id="tmratext1b" x="125" y="40" font-size="12"> </text> 
		<text id="tmratext1c" x="125" y="60" font-size="12"> </text> 


		<!-- On delay timer - TMR.-->
		<g id="timertmr">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->	
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">TIMER On-Delay</text> 
			<!-- Addresses. -->
			<text x="150" y="-10" font-size="12">:</text> 
			<text x="10" y="10" font-size="12">Set point:</text> 
			<text x="150" y="10" font-size="12">:</text> 
		</g>

		<!-- Off delay timer - TMROFF.-->
		<g id="timertmroff">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->	
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">TIMER Off-Delay</text> 
			<!-- Addresses. -->
			<text x="150" y="-10" font-size="12">:</text> 
			<text x="10" y="10" font-size="12">Set point:</text> 
			<text x="150" y="10" font-size="12">:</text> 
		</g>

		<!-- These are used to display parameters for normal  
			on-dlay and off-delay timers. -->
		<!-- Timer address. -->		
		<text id="timertext1a" x="160" y="-10" font-size="12"> </text> 
		<!-- Timer set point. -->		
		<text id="timertext1b" x="80" y="10" font-size="12"> </text> 
		<!-- Timer time base. -->		
		<text id="timertext1c" x="160" y="10" font-size="12"> </text> 



		<!-- Copy single - COPY.-->
		<g id="copy">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">COPY Single</text> 
			<text x="8" y="6" font-size="12">Src:</text> 
			<text x="8" y="24" font-size="12">Des:</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
		</g>

		<!-- Addresses. -->		
		<text id="copytext1a" x="40" y="6" font-size="12"> </text> 
		<text id="copytext1b" x="40" y="24" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="copytext1c" x="200" y="-10" font-size="12"> </text> 


		<!-- Copy block - CPYBLK.-->
		<g id="cpyblk">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">COPY Block</text> 
			<text x="8" y="6" font-size="12">Src:</text> 
			<text x="8" y="24" font-size="12">Des:</text>
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->	
			<text x="110" y="6" font-size="12">...</text> 
		</g>

		<!-- For displaying addresses for COPY. -->	
		<text id="cpyblktext1a" x="40" y="6" font-size="12"> </text> 
		<text id="cpyblktext1b" x="130" y="6" font-size="12"> </text> 
		<text id="cpyblktext1c" x="40" y="24" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="cpyblktext1d" x="200" y="-10" font-size="12"> </text> 


		<!-- Copy fill block - FILL-->
		<g id="fill">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">COPY Fill</text> 
			<text x="8" y="6" font-size="12">Src:</text> 
			<text x="8" y="24" font-size="12">Des:</text>
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->	
			<text x="110" y="24" font-size="12">...</text> 
		</g>

		<!-- For displaying addresses for COPY FILL. -->	
		<text id="filltext1a" x="40" y="6" font-size="12"> </text> 
		<text id="filltext1b" x="40" y="24" font-size="12"> </text> 
		<text id="filltext1c" x="130" y="24" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="filltext1d" x="200" y="-10" font-size="12"> </text> 


		<!-- Copy pack - PACK -->
		<g id="pack">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">COPY Pack</text> 
			<text x="8" y="6" font-size="12">Src:</text> 
			<text x="8" y="24" font-size="12">Des:</text>
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<text x="110" y="6" font-size="12">...</text> 
		</g>

		<!-- For displaying addresses for COPY PACK. -->	
		<text id="packtext1a" x="40" y="6" font-size="12"> </text> 
		<text id="packtext1b" x="130" y="6" font-size="12"> </text> 
		<text id="packtext1c" x="40" y="24" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="packtext1d" x="200" y="-10" font-size="12"> </text> 

		<!-- Copy unpack - UNPACK -->
		<g id="unpack">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">COPY Unpack</text> 
			<text x="8" y="6" font-size="12">Src:</text> 
			<text x="8" y="24" font-size="12">Des:</text>
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<text x="110" y="24" font-size="12">...</text> 
		</g>

		<!-- For displaying addresses for COPY PACK. -->	
		<text id="unpacktext1a" x="40" y="6" font-size="12"> </text> 
		<text id="unpacktext1b" x="40" y="24" font-size="12"> </text> 
		<text id="unpacktext1c" x="130" y="24" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="unpacktext1d" x="200" y="-10" font-size="12"> </text> 



		<!-- Find equal to - FINDEQ -->
		<g id="findeq">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FIND =</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>

		<!-- For displaying addresses for all FIND instructions. -->
		<!-- Value to search for. -->	
		<text id="findtext1a" x="80" y="-10" font-size="12"> </text>
		<!-- Start of search range. -->	
		<text id="findtext1b" x="40" y="10" font-size="12"> </text> 
		<!-- End of search range. -->	
		<text id="findtext1c" x="130" y="10" font-size="12"> </text> 
		<!-- Result register. -->	
		<text id="findtext1d" x="40" y="30" font-size="12"> </text> 
		<!-- Result flag. -->	
		<text id="findtext1e" x="130" y="30" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="findtext1f" x="200" y="-10" font-size="12"> </text> 


		<!-- Find not equal to - FINDNE -->
		<g id="findne">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FIND !=</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>

		<!-- Find less than - FINDLT -->
		<g id="findlt">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FIND &lt;</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>

		<!-- Find less than or equal to - FINDLE -->
		<g id="findle">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FIND &lt;=</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>

		<!-- Find greater than - FINDGT -->
		<g id="findgt">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FIND &gt;</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>

		<!-- Find greater than or equal to - FINDGE -->
		<g id="findge">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FIND &gt;=</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>


		<!-- Find incremental equal to - FINDIEQ -->
		<g id="findieq">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FINDI =</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>


		<!-- Find incremental not equal to - FINDINE -->
		<g id="findine">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FINDI !=</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>


		<!-- Find incremental greater than - FINDIGT -->
		<g id="findigt">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FINDI &gt;</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>


		<!-- Find incremental greater than or equal to - FINDIGE -->
		<g id="findige">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FINDI &gt;=</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>


		<!-- Find incremental less than - FINDILT -->
		<g id="findilt">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FINDI &lt;</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>


		<!-- Find incremental less than or equal to - FINDILE -->
		<g id="findile">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">FINDI &lt;=</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="110" y="10" font-size="12">...</text>
			<text x="8" y="10" font-size="12">Rng:</text> 
			<text x="8" y="30" font-size="12">Rlts:</text> 
		</g>




		<!-- Shift register - SHFRG -->
		<g id="shfrg">
		 	<rect x="2px" y="-35px" width="225px" height="210px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<line x1="0" y1="75" x2="5" y2="75" />
			<line x1="0" y1="150" x2="5" y2="150" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="200" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="50" y="-10" font-size="12">SHIFT REGISTER </text> 
			<text x="10" y="0" font-size="12">Data</text> 
			<text x="10" y="75" font-size="12">Clock</text> 
			<text x="10" y="150" font-size="12">Reset</text> 
			<!-- Addresses. -->
			<text x="50" y="30" font-size="12">Start: </text> 
			<text x="50" y="50" font-size="12">End:  </text> 
		</g>
	
		<!-- Math decimal - MATHDEC -->
		<text id="shfrgtext1a" x="100" y="30" font-size="12"> </text> 
		<text id="shfrgtext1b" x="100" y="50" font-size="12"> </text> 
	

		<!-- Math decimal - MATHDEC -->
		<g id="mathdec">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">MATHDEC</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="70" y="10" font-size="12">=</text>
		</g>

		<!-- For MATHDEC and MATHHEX instructions. -->
		<!-- Addresses. -->
		<text id="mathtext1a" x="8" y="10" font-size="12"> </text>
		<text id="mathtext1b" x="200" y="-10" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="mathtext1c" x="8" y="28" font-size="12"> </text> 

 
		<!-- Math hex - MATHHEX -->
		<g id="mathhex">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">MATHHEX</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="70" y="10" font-size="12">=</text>
		</g>


		<!-- Math sum - SUM -->
		<g id="sum">
		 	<rect x="2px" y="-35px" width="225px" height="75px" stroke="none"/> 
			<!-- Joining lines. -->		
			<line x1="0" y1="0" x2="5" y2="0" />
			<line x1="220" y1="0" x2="225" y2="0" />
			<!-- Enclosing box. -->
			<rect x="5" y="-30" width="215" height="65" rx="5" fill="none" />
			<!-- Instruction labels. -->
			<text x="10" y="-10" font-size="12">SUM</text> 
			 <!-- One shot option. -->
			<text x="190" y="-10" font-size="12">:</text> 
			<!-- Addresses. -->
			<text x="70" y="10" font-size="12">=</text>
			<text x="140" y="10" font-size="12">...</text> 
		</g>


		<!-- For SUM instruction. -->
		<!-- Addresses. -->
		<text id="sumtext1a" x="8" y="10" font-size="12"> </text>
		<text id="sumtext1b" x="85" y="10" font-size="12"> </text> 
		<text id="sumtext1c" x="160" y="10" font-size="12"> </text> 
		 <!-- One shot option. -->
		<text id="sumtext1d" x="200" y="-10" font-size="12"> </text> 


		<!-- Note: There must be at least one character in the defintion
			SVG or we will encounter an error when attempting to use it.-->
		<!-- This is for a contact input with one address.-->
		<text id="inptext1" x="15px" y="-20px" font-size="14" > </text>

		<!-- This is for a contact input with two addresses.-->
		<text id="inptext2a" x="8px" y="-20px" font-size="12" > </text>
		<text id="inptext2b" x="8px" y="30px" font-size="12" > </text>

		<!-- This is for coil outputs with two addresses.-->
		<text id="coiltext2a" x="15px" y="-20px" font-size="12" > </text>
		<text id="coiltext2b" x="85px" y="-20px" font-size="12" > </text>


		<!-- This is for a coil output with one address.-->
		<text id="outptext1" x="15px" y="-20px" font-size="14"> </text> 

		<!-- This is for holding a rung of ladder.-->
		<g id="laddercontainer" transform="translate(0,50)">
		</g>


		<!-- Join inputs to outputs (first rail). -->
		<line id="svginprail1" x1="610" y1="0px" x2="610" y2="0px" />
		<!-- Join inputs to outputs (second optional rail). -->
		<line id="svginprail2" x1="610" y1="75px" x2="610" y2="75px" />
		<!-- Join inputs to outputs (third optional rail). -->
		<line id="svginprail3" x1="610" y1="150px" x2="610" y2="150px" />

		<!-- Joining rail for outputs. -->
		<line id="svgoutprail" x1="610" y1="0px" x2="610" y2="0px" />


		<circle id="svgoutraildecoration" cx="610px" cy="0px" r="3px" stroke-width="5px" />

		<!-- Container for a single endit cell. -->
		<g id="cellcontainer">
		</g>


<!-- ********************************************************************** -->


</svg>

</div>

<!-- ********************************************************************** -->
	<!-- ################################################################ -->


	<!-- This is a container for holding a complete rung of SVG. -->
	<svg id="ladderdispprototype" xmlns="http://www.w3.org/2000/svg" 
		xmlns:html="http://www.w3.org/1999/xhtml"
		xmlns:xlink="http://www.w3.org/1999/xlink"
		version="1.1" baseProfile="full" width="1000px" height="0px">
	

	</svg>



	<!-- ################################################################ -->

</div>	<!-- ladderprototypes -->

	<!-- ################################################################ -->


</body>

<!-- This is the code for editing the page. -->

	<script>
	<![CDATA[


	// Disable the other extra control buttons.
	function DisableButtons() {
		var monbut = document.getElementById("monitorbutton");
		monbut.setAttribute("disabled", "disabled");
		var singlebut = document.getElementById("singlebutton");
		singlebut.setAttribute("disabled", "disabled");
	}


	// Make sure the control buttons are enabled after a page refresh.
	function EnableButtons() {
		// Enable the other buttons.
		var monbut = document.getElementById("monitorbutton");
		monbut.removeAttribute("disabled");
		var singlebut = document.getElementById("singlebutton");
		singlebut.removeAttribute("disabled");
	}


	// Enable the input controls.
	EnableButtons();

	// Controls auto-scan.
	var UpdateEnabled = false;

	// Enables auto-scan.
	function EnableUpdate() {
		UpdateEnabled = true;

		// Disable the extra control buttons.
		DisableButtons();

		// Start scanning.
		GetMonitorData();
	}

	// Disables auto-scan.
	function DisableUpdate() {
		UpdateEnabled = false;
		EnableButtons();
	}

	// Triggers a single scan.
	function SingleScan() {
		GetMonitorData();
	}

	// ###################################################


	// The subroutine data handler.
	var SubrData = new LadSubrData();


	// Ladder symbol definitions.
	var LadSymbols = new LadSymDefs(document);

	// Initialise the master edit controller.
	// We allow viewing only.
	var SubrControl = new SubrDispControl(document, LadSymbols, 'view');

	// This This handles intialising the ladder display for a 
	//	single subroutine.
	function ProgLadderData() {
		// Get the ladder data.
		function _UpdatePageResults(plcsource) {
			SubrData.ImportData(plcsource);
			SubrControl.CreateRungList(SubrData.GetSubrData());
			// Set the new live ladder monitor data access.
			LadMonitor.SetMonitorList(SubrData.GetMonitorDataList());
		}
		this.UpdatePageResults = _UpdatePageResults;
	}

	// Handles displaying page data.
	var ProgSource = new ProgLadderData();


	// Handles communications with the server.
	var host = window.location.hostname;
	var port = window.location.port;
	var ServerData = new StatusDataIF(host, port, ProgSource);


	// Load the initial ladder data and display the page.
	function LoadLadder() {

		// Disable live updates while we change this page.
		DisableUpdate();

		// Delete the existing page (if present).
		SubrControl.DeletePage();

		// Get the subroutine name.
		var subrname = GetSubrnameFromQueryString();

		// Get the ladder data and display it.
		ServerData.SendGetRequest("/statdata/plccurrentsource.js?subrname=" + subrname);

		// Schedule checking if the page was updated.
		window.setTimeout("GetSigData()", 5000);

	}

	// Start up and initialisation.
	function MBEdit_pageinit() {
		LoadLadder();
	}


	// #########################################################
	// Update the live data while monitoring.

	// Handles updating the live data monitoring.
	var LadMonitor = new LadderMonitor();


	// Data monitor communications.
	var MonitorData = new StatusDataIF(host, port, LadMonitor);

	// Get the data for live page update.
	function GetMonitorData() {
		// Get the address list.
		var addrlist = SubrData.GetMonitorAddrList();

		// Get the ladder data and display it.
		MonitorData.SendGetRequest("/statdata/sldatatable.js?addr=" + addrlist);

		// Schedule the next monitor update.
		if (UpdateEnabled) {
			window.setTimeout("GetMonitorData()", 900);
		}
	}

	// Check if the subroutine has changed.
	
	function SubrSig() {
		this.Sig = 'invalid';

		function _GetSig() {
			return this.Sig;
		}
		this.GetSig = _GetSig;

		function _UpdatePageResults(sig) {
			//alert("Oldsig " + originalsig + "  New sig  " + sig);
			var originalsig = SubrData.GetSignature();
			var newsig = sig["signature"];

			if (originalsig != newsig) {
				// Reload the page.
				LoadLadder();
				//alert("Page was changed  " + originalsig + "   " + newsig);
			}
			this.Sig = newsig;
		}
		this.UpdatePageResults = _UpdatePageResults;
		
	}

	// Handles checking if the page has changed.
	var SigMonitor = new SubrSig();


	// Data monitor communications.
	var SigData = new StatusDataIF(host, port, SigMonitor);

	// Check if the subroutine has been updated.
	function GetSigData() {

		// Get the subroutine name.
		var subrname = GetSubrnameFromQueryString();

		// Get the ladder data and display it.
		SigData.SendGetRequest("/statdata/plccurrentsig.js?subrname=" + subrname);

		// Schedule the next monitor update.
		window.setTimeout("GetSigData()", 5000);

	}



	//]]>
	</script>


</html>


<!-- Copyright 2008 - 2010. Michael Griffin 
This file is part of MBLogic.
MBLogic is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
MBLogic is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the 
GNU General Public License for more details.
You should have received a copy of the GNU General Public License 
along with MBLogic. If not, see <http://www.gnu.org/licenses/>. 
-->
