<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Help - Installation</title>

<link rel="icon" type="image/png" href="/systemicon.png">
<!-- Page navigation style sheet. -->
<link rel="stylesheet" href="/pagenav.css" type="text/css">
<!-- General page layout style sheet. -->
<link rel="stylesheet" href="/helppagelayout.css" type="text/css">
</head>

<body>
<div id="filler">

	<div id="header">
		<p class="headlogo">
			<img src="/systemlogo.png" width="200" alt="MB Logic Logo">
			<span class="headtitle1">HMIServer </span>
			<span class="headtitle2"> Help</span>
		</p>
	</div>

	<!-- This is the standard nav bar. -->
	<div id="nav">
		<ul>
			<li><a href="/statussystem.html">Home</a></li>
			<li><a href="/statushmi.html">Config</a></li>
			<li><a href="/statuscontrol.html">Control</a></li>
			<li><a href="/datamsgsfield.html">Data Messages</a></li>
			<li><a href="/hmiserverintro-en.html">Help</a></li>
		</ul>
	</div>

<hr>

	<!-- This is the help system nav bar. -->
	<div id="helpnav">
		<h2>Help Topics</h2>
		<ul>
			<li><a href="/hmiserverintro-en.html">Help</a></li>
			<li><a href="/about-en.html">About</a></li>
			<li><a href="/installation/install-en.html">Installation</a></li>
			<li><a href="/installation/demos-en.html">Demo Applications</a></li>
			<li><a href="/hmiserverstartparameters-en.html">Server Start Parameters</a></li>
			<li><a href="/hmiservermonitor-en.html">HMI Server Monitoring</a></li>
			<li><a href="/commsbasics-en.html">Communications Basics</a></li>
			<li><a href="/hmiconfig-en.html">HMI Server Configuration</a></li>
		</ul>

	</div>



<div id="datadisplay">

<h1>Help - HMI Server Installation</h1>

<hr>

<h2>Overview:</h2>

<p>Installation consists of the following steps:
</p>

<ol>
	<li>Extract the application files from the archive.</li>
	<li>Obtain and install the required third party software packages.</li>
	<li>Test the installation.</li>
</ol>


<hr>

<h2>Versions:</h2>

<p>HMIServer was previously distributed as a separate package for each protocol.
It is now distributed as a single combined package which includes all protocol
versions together. However, each version still supports just one protocol at
a time. 
</p>

<p>The available versions are:
</p>

<ul>
	<li>HMIServerMBC - Modbus/TCP client.</li>
	<li>HMIServerMBS - Modbus/TCP server.</li>
	<li>HMIServerSBC - SAIA Ether SBus client.</li>
	<li>HMIServerSBS - SAIA Ether SBus server.</li>
</ul>

<p>A server is also sometimes known as a "slave". Use the server version if you
intend to talk to it using a client (master). A client is sometimes known as a
"master". Use the client version if you intend to have it talk to a server 
(slave).
</p> 

<hr>

<h2>Installing the Base Application:</h2>

<p>The application is distributed as a source archive file. For most platforms
(including Linux), this is a "tar.gz" file. For MS-Windows, this is a "zip" 
file. The MS-Windows version has the special new-line character combination 
(CR-LF) required by that platform, but is otherwise identical to 
the standard version. 
</p>

<hr>

<h3>Installation:</h3>

<ol>
	<li>Select or create a directory into which to extract the application files.</li>
	<li>Extract the archive file into the desired location. </li>
	<li>Several sub-directories will be created as part of the extraction
	process. </li>
	<li>The application itself will now be installed. However, you cannot run it
	until you install the third party support software (see the help instructions
	on how to perform that step). </li>
</ol>


<hr>

<h2>Application Directory Contents:</h2>

<p>You should see the following items present in the application directory.
</p>

<h3>Application Directory Contents:</h3>

<p>There will be a directory named "hmiserver. It will contain a number of 
files with ".py" extensions. These are part of the application program itself. 
These files will be automatically compiled to ".pyc" files when the 
application first starts. There will also be several sub-directories with 
additional code files, as well as html web pages for the help system and the 
status monitorin system. There is nothing in these directories that you will 
need to change.
</p>

<h3>HMI Directory Contents:</h3>

<p>There will be a directory called "hmipages". It will contain a number
of files with ".xhtml", ".js", ".css", and ".png" extensions. These files
constitute a sample HMI client (web page) that comes with the system.
You will replace some of these files with your own versions later if you create 
your own HMI application. 
</p>

<h3>Sample HMI Application:</h3>

<p>There will be a file which is provided as a sample HMI
application. This sample application works with the sample
HMI client (web page). This file is: 
</p>

<ul>
	<li>"mbhmi.config". This is provided as a sample HMI server configuration
	file. You will need this file to use the HMI demo. </li>
</ul>


<h3>Shell Script to Start the System:</h3>

<p>There will also be a shell script which is used to start the system with one
of the following names: 
</p>

<table class="helptable"  border="1">
	<tr>
		<th>Protocol</th>
		<th>Client/Server</th>
		<th>Linux File</th>
		<th>MS Windows File</th>
	</tr>
	<tr>
		<td>Modbus/TCP</td>
		<td>Client</td>
		<td>hmiservermbc.sh</td>
		<td>hmiservermbc.bat</td>
	</tr>
	<tr>
		<td>Modbus/TCP</td>
		<td>Server</td>
		<td>hmiservermbs.sh</td>
		<td>hmiservermbs.bat</td>
	</tr>
	<tr>
		<td>SBus</td>
		<td>Client</td>
		<td>hmiserversbc.sh</td>
		<td>hmiserversbc.bat</td>
	</tr>
	<tr>
		<td>SBus</td>
		<td>Server</td>
		<td>hmiserversbs.sh</td>
		<td>hmiserversbs.bat</td>
	</tr>
</table>


<p>This file simply calls the main program file. You can use this as a guide 
for creating your own start up script.
</p>

<h3>Shell Script to Start the Demo Programs:</h3>

<p>There will also be a shell script which is used to start the system together
with an additional programs used to support the demo application.
</p>


<table class="helptable"  border="1">
	<tr>
		<th>Protocol</th>
		<th>Client/Server</th>
		<th>Linux File</th>
		<th>MS Windows File</th>
	</tr>
	<tr>
		<td>Modbus/TCP</td>
		<td>Server</td>
		<td>"hmidemombs.sh</td>
		<td>"hmidemombs.bat</td>
	</tr>
</table>


<p>These start HMIServer as well as a simple demo process simulator program.
This demo uses the Modbus/TCP server version to demonstrate the HMI features.
</p>

<hr>

<h2>Installing Third Party Support Software</h2>

<p>The system requires a third party package which must be installed 
separately before the system will function. This third party package is the 
Python run time language support for the Python programming language. This 
package is free, and can be downloaded from the location listed below.
</p>

<p>The system has been tested with Python versions 2.5 and 2.6. Other versions 
may work but have not been tested. 
</p>

<h3>For Linux:</h3>

<p>For Linux, Python is already installed in most distros. If it is not already
installed, it can normally be obtained from your distro's package repository. 
Use your package manager (e.g. Synaptic) to download and install the package.
</p>


<h3>For MS Windows:</h3>

<p>Installing software on MS Windows is traditionally more difficult
that with Linux, as MS Windows has no package management or repository
system. This means that each package must be downloaded and installed
manually. However, this is relatively straight forward if you 
follow the steps below.
</p>

<p>Python can be obtained from the following location (don't install
them just yet though):
</p>

<ul>
	<li>Python - http://Python.org</li>
</ul>


<p>Once you have obtained the software, install it as shown below:
</p>

<p><strong>Python</strong>. Make a note of where you installed this, as you 
will need this information later. (Note, the actual install screen will
look slightly different from the one shown below. This screen shot was taken
after the install was run once already). Run the installer and follow
the instructions in the install menus.
</p>

<p><img src="PythonInstall.png" width="375" alt="Python">
</p>

<p>Some copies of MS-Windows may have one or more "dll" files missing which 
prevent the program from operating correctly. This can happen when dll files are 
unintentionally removed when uninstalling software or making other changes. 
One dll in particular to check is "mfc71.dll". This is a standard MS Windows 
library which is used by many programs. This should be in the "c:\windows\system32" 
directory. If it is missing, you will need to reinstall it. A search on Google 
will turn up many solutions for this problem (this is a common problem). 
However, do not install this file if there does not appear to be any problem. 
This file is not necessary for Linux. 
</p>


<hr>

<h2>Testing Third Party Software:<a name="Testing Third Party Software"></a></h2>

<p>To test if the third party software installation is working, you can do the 
following (you can skip this step if you wish).
</p>

<h3>For Linux:</h3>

<p>For Linux, open a command line terminal and type "python". You should see the
Python interpreter start up with something like the following:
</p>

<pre class="examples">

	Python 2.6.2 (release26-maint, Apr 19 2009, 01:58:18) 
	[GCC 4.3.3] on linux2
	Type "help", "copyright", "credits" or "license" for more information.
	>>> 

</pre>


<p><em>Note:</em> - The version number may be different than the example
shown above.
</p>

<p>To exit Python, press "control-D" (press the control and "d" keys simultaneously).
To close the terminal, press "control-D" again.
</p>


<h3>For MS Windows:</h3>


<p>For MS-Windows, following the instructions given above for Linux, with the 
following exceptions.
</p>

<p>When starting Python, you will need to include the full path name to the Python
interpreter. For example: "C:\Python26\python"
</p>

<p><em>Note:</em> - The Python version number is part of the path name.
If you have installed a different version, you will need to alter the path
accordingly (e.g. "C:\Python25\python")
</p>

<p>To exit Python, type the following ("control-D" is not compatible with MS-Windows):
</p>

<pre class="examples">

	import sys
	sys.exit()

</pre>


<hr>

<h2>Using the Demo to Test the Application:</h2>

<p>When all software has been installed, you can start the application
demo to see the available features. 
</p>

<p>This step is only required if you are using the demo provided with the
release. This step starts additional programs that provides a simulation 
for the sample HMI web page. These applications are not required if you are 
connecting the HMI server to a normal Modbus/TCP field device (e.g. a PLC).  
</p>

<h3>Starting the Demo from Linux:</h3>


<p>Do <em>one</em> of the following"</p>

<ul>
	<li>If you are using Gnome, double click on the shell script file (see
	above for the file names).</li>
	<li><em>Or</em> from the command line, type the file name. For example:
	"./hmidemombs.sh" file for the Modbus/TCP server version.</li>
</ul>


<h3>Starting the Demo from MS Windows:</h3>


<p>Do <em>one</em> of the following"</p>

<ul>
	<li>If you are using the MS-Windows GUI, double click on the 
		batch file (see above for the file names).</li>
	<li><em>Or</em> from the command line, type the name of the
	batch file and press enter.
</ul>


<h3>Start-up Messages:</h3>


<p>You should see something like the following appear:
</p>

<pre class="examples">

	HMIServerMBS version: 24-Nov-2010
	Started on Tue Nov 30 10:16:30 2010 with HMI port 8082

</pre>


<p>If you have started the server on a different HMI port number the message
will reflect that change.
</p>


<h3>Checking the Web Interface:<a name="Checking the Web Interface"></a></h3>

<p>Check the system status web page by starting your web browser and entering 
the following URL (this assumes you are using the sample configuration):
</p>

<pre class="examples">

	http://localhost:8082/statussystem.html

</pre>

<p>You should see a web page titled "HMI Server Status" similar to the one shown
below. 
</p>

<p>
<img src="hmiserverstatus.png" width="400" alt="Status Screen">
</p>

<p>Alternatively, the following URL will display the old style static
web page:
</p>

<pre class="examples">

	http://localhost:8082/hmiserverstatus-en.html

</pre>

<p>
<img src="oldstatusscreen.png" width="400" alt="old status screen">
</p>


<h3>Running the HMI Demo:<a name="Running the HMI Demo"></a></h3>

<p>Check the HMI system by starting your web browser and entering the following
URL (this assumes you are using the sample configuration):
</p>

<pre class="examples">

	http://localhost:8082/hmidemo.xhtml

</pre>

<p><strong><em>or</em></strong></p>

<p>Click on the link at the bottom of the "HMI Server Status" page.
</p>


<p>You should see a web page titled "MB-HMI Demo". You should see a number of 
graphical elements including push buttons, pilot lights, tanks, and gauges.
</p>

<p>
<img src="helpmain.png" width="450" alt="hmi demo screen">
</p>

<p>Just above the middle of the screen on the left you should see a numeric 
display box titled "Server Mesg ID:" the number appearing within the box 
should be incrementing at a rate of approximately once per second. To the 
left of this should be a box titled "Comm Status". The background of this 
box should be green. If you see these items, the system is running correctly.
</p>

<p>The HMI demo uses vector graphics based on SVG. Most modern web browsers have
this capability, including Firefox, Opera, Apple Safari, Google Chrome, etc.
Some browsers based on older technology (e.g. any version of MS Internet 
Explorer, old versions of Netscape Navigator, etc.) do not have this ability. 
They may load but not display the page. 
</p>

<p>The demo page was developed and tested using Firefox, so that browser is 
recommended for this test. Be sure that you have Javascript enabled, as it
is needed to run the communications between the web page and the server.
</p>


<hr>

<h2>Starting the Application in Normal Use:</h2>

<h3>Starting the HMI Server:</h3>


<p>If you are not testing the system using the demo support packages, you can  
run the actual HMIServer application without them and use actual field devices 
as data sources. A shell script (or batch file for MS Windows) is provided as 
an example of how to provide the start parameters. You will normally change
the contents or this shell script (and its name as well, if desired) to provide 
the correct parameters for your actual application.  
</p>

<h3>Starting from Linux:</h3>


<p>Do <em>one</em> of the following"</p>

<ul>
	<li>If you are using Gnome, double click on the shell script file (see 
		above for the file names).</li>
	<li><em>Or</em> from the command line, type the file name. 
		For example: "./hmiservermbs.sh" file for the Modbus/TCP server version.</li>
</ul>


<h3>Starting from MS Windows:</h3>

<p>Do <em>one</em> of the following"</p>

<ul>
	<li>If you are using the MS-Windows GUI, double click on the 
		batch file name.</li>
	<li><em>Or</em> from the command line, type the name of the batch file and 
		press enter.</li>
</ul>


<hr>

<h2>Stopping the Application</h2>


<p>To shut down the application, do one of the following:</p> 

<h3>Via the Web Interface</h3>

<p>Select the "Control" page, and then press the "Shutdown System" button.
The page will then request that you confirm the shutdown request.
</p>

<p>
<img src="control1.png" width="500" alt="control screen">
</p>


<h3>Direct from Keyboard</h3>

<p>Press "control-C" (press the "control" and "C" keys simultaneously) 
in the terminal window where the application is running. This will 
send a signal to the system asking it to shut down. You should see something like 
the following appear.
</p>

<pre class="examples">

	Operator terminated system at Sat Jan 10 20:45:42 2009

</pre>


<p>The demo simulation packages (if you are using them) can be stopped
in a similar manner.
</p>

<hr>

<h2>System Configuration:</h2>

<p>Documentation on system configuration can be found in the on-line
documentation provided with the installation. To access the on-line 
documentation, click on the "help" button located near the top of the
HMI server status web page (see above). 
</p>


<hr>


</div>


<!-- Standard footer -->
<div id="footer">
	<p>Help - Installation</p>
</div>

</div>

</body>
</html>

<!-- Copyright 2009 - 2010. Michael Griffin
This file is part of HMIServer.
HMIServer is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
MBServer is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with MBServer. If not, see <http://www.gnu.org/licenses/>.
 -->

